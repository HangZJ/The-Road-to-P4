# 网络革命者 Nick Mckeown教授

此文特刊在Nick教授来华访问和五月八号的北京P4峰会前。

2017年P4中国峰会即将于5月8日在北京召开：[2017 P4中国峰会](http://www.sdnlab.com/18989.html)。为了让大家更好了解P4，更好了解也将参加本次P4峰会的SDN及P4的创始人Nick McKeown教授，我们将翻译呈现两篇相关的文章，分别是关于Nick教授的成长和创业历程的介绍，以及SDxCentral对Nick McKeown教授的访谈。

本文译自：《EVOLVING THE INTERNET - Professor Nick McKeown FREng》，英国[INGENIA](http://www.ingenia.org.uk/)杂志，第64期，2015年9月，Page:47-51。

## Nick McKeown教授 - 个人简介 

Nick McKeown（尼克-麦克欧文），1963年7月4日出生于英国的贝尔德福。1986年取得利兹大学学士学位。1986年到1989年在英国的布里斯托尔惠普实验室网络和通信研究小组工作。1989年移居美国，并在1992年和1995年从加州大学伯克利分校取得了硕士和博士学位。1995年春，在思科公司帮助构造了 GSR 12000 路由器的体系结构。同年成为斯坦福大学电气工程和计算机科学的助理教授。1997年，Abrizio 公司联合创始人，首席技术官。1999年，Abrizio 被 PMC-Sierra 以价值4亿美元的股份收购。2002年，晋升为副教授。2003年， Nemo Systems 的联合创始人兼首席执行官，这个公司在2005年被思科以1250万美元现金购买。2006年，成为 Clean Slate Program 的项目主任。2010年，晋升为教授。2011年当选为美国国家工程院院士。2011年，Open Networking Lab（开放网络实验室）的联合创始人之一。2013年，Barefoot Networks 的创始人之一。

# 译文

Nick Mckeown 教授曾创造了加速互联网发展的技术，但接下来他计划革新这个他曾经协助构建的网络世界。

## Chapter1 引言

在英国的苏塞克斯郡与美国的加利福尼亚州的连线之间，很难再觅得比 Nick McKeown FREng 教授更加适合采访的人选。毕竟，他博士生涯中的研究将路由器处理速度提升了近十倍，使整个互联网络能够承载来自Skype等其他网络服务的大量流量。

回溯到上个世纪八十年代，在毗邻布里斯托尔市的 Hewlett Packard(HP) 实验室，McKeown 接受了他人生中的首次研究工作。在当时，他希望从事人工智能(Artificial Intelligence)或者是计算机系统架构这些在现在看来无疑是热点话题的研究，但HP实验室决定让 McKeown 投身于互联网路由器架构领域。这些事情发生在万维网(World Wide Web)发明以及人们接受这些概念之前，那时的网络连接还仅局限于分散于各地、各组织的巨型计算机之间。自HP实验室做出这一决定起，McKeown 教授便一直站在网络架构领域的浪潮之巅。

## Chapter2 思维成型

虽然 McKeown 在HP实验室的工作是被别人指派的，但情况并不总是这样：倘若在中学时他听从职业选择导师的建议，那么 McKeown 现在所从事的工作应该和工程师完全不沾边。他透露说，在考虑是否要学习工程相关的知识时，他的父亲(Pat McKeown FREng教授)，一位杰出的工程师和企业家，鼓励了他。McKeown 回忆起那时职业导师的回复：“以你的聪明才智胜任工程师绰绰有余，你应该去做一些更加有创造性的东西。” “好吧，那我就去当一名工程师！” 他笑着说。

现任斯坦福大学电气工程与计算机科学学院的 McKeown 教授愉快地将这段往事和之后它带来的影响联系了起来。他现在依然保持与母校，包括毗邻英国的苏塞克斯郡的 Wootton Upper 学校的联系，以保证下一代教育中不会发生类似这种忽略工程师的重要性及创造性的情况。

McKeown 所采取的一种途径是使用在斯坦福改进的一套教学方法为学校的学生们教授课程。在伊斯坦布尔，四名来自他贝德福德郡母校的学生参与到了100人左右的课堂中。在那里，McKeown 教授和他的同事们对来自土耳其和英国高等院校的学生进行 Java 编程的教学，并将其作为计算机科学的导论课程。相比传统的 'ICT' 和 'IT' 课程的软件开发与编程，McKeown 更加偏爱这个贴近计算机和网络的主题学期，他说：“这些课程(软件开发等)是很重要，但是与计算机科学的工程学科完全不同。这相当于把一个机械工程师说成是一名技工！”

McKeow n教授来到加州并进入计算机网络领域的过程并不简单。最初，他来到美国的达勒姆大学修读机械工程的学位，但随后他发现达勒姆非常不合时宜甚至“从工程师的角度看来，(教育)有点过时”。因此在一年之后，“为了和
[Adrian Moorhouse](https://en.wikipedia.org/wiki/Adrian_Moorhouse)(他在1988年的首尔奥运会获得了金牌)一起游泳”，McKeown 教授离开了达勒姆并前往利兹。但 “因为那时候英国有太多的优秀蛙泳运动员”，McKeown教授很遗憾地与1984年的英国游泳国家队擦肩而过。

McKeown在利兹的生活也不仅仅只是游泳，在修读电与电气工程学科的学位的同时，他获得了[GEC-Marconi](https://en.wikipedia.org/wiki/Marconi_Electronic_Systems)的奖学金，一年后获得了英国国家工程学的全额奖学金。

1986年毕业之后，McKeown 加入了布里斯托尔市的HP实验室。彼时，在英国的研究领域，博士学位对于找到一份工作来说影响并不大，而且也没有多少人拥有工程学的博士学位，但对于工作在加州帕洛阿尔托的HP主研发中心的每一个人来说，博士学位是必须的，“所以他们接纳了一群刚刚从本科毕业的人。我逐渐意识到我所学的知识是多么有限，他们给予了我们非常宝贵的经验、昂贵的教育，给我们发薪水，还容许我们犯一大堆的错误、造轮子。多么难以置信的、美妙的学徒工作。”

这个想法使 McKeown 仔细思考当时英国的情况。他说，那时候HP实验室的难题是“一种十分糟糕的工程领域及工程学教育状态的反映”，政府认为技术领域没有未来，也没人在意制造行业。这也是在 McKeown 毕业时，对于电气工程的毕业生来说最受欢迎的职业是会计，其次是测量，而后才是工程学的原因。

## Chapter3 西海岸的巧夺天工

对于一名十分热爱工程学的研究者而言，特别是当加利福尼亚的激情与其喷涌而出的技术行业在他的工作中一览无遗时，美国无疑看上去对他是一个更好、更具吸引力的选择。

McKeown 在加州大学的伯克利分校进行学术硕士生涯的研究，之后他博士的工作转向了计算机网络领域，其课题的官方名称是 “Scheduling Cells in an Input-Queued Cell Switch”，但 McKeown 解释说它真正做的事情是考虑如何尽可能地提升路由器和交换机的速度。该课题始于他在攻读硕士时所上的课程，McKeown 和他的三位同学一起发明了“世界上最快的路由器”，该系统的速度比其他的方案快了近十倍，他们称之为“Bay Bridge”并将其应用到了思科的系统中。

但在当时，路由器的速度对于思科来说并不是那么的重要，提速就像是给他们路由器中添加一个新的特性一样。要知道，三年后才发明了第一个网页浏览器 Mosaic，而世界上最好的网络协议，TCP/IP 也才刚刚应用到产业界来协调系统之间的数据流量。

早期，该项目仅与路由器中用于控制数据报按序转递的算法有关。接着，在 Bay Bridge 的基础之上形成了 Tiny-Tera 项目，McKeown 称“这是我们对于如何在不依赖半导体技术的情况下，建造1T/s的交换机的一次尝试，在当时这个速度看上去是非常惊人的，需要使用特定用于调度数据报的算法。” 研究这些算法是他博士工作的核心。

最终，网络产业界了解到了其工作的重要性。1995年，McKeown 在博士生涯结束之后，在思科短暂工作了几个月，随后成为了斯坦福大学的一名教授。在思科的这一段时间，如他所述，是一名 Gigabit Switched Router(GSR) 项目的“协助设计师”。GSR 后来成为了一款思科的旗舰路由器。

接着，McKeown 的创新成果改变了网络业务。他所经手的 Tiny-Tera 项目孕育了一家以生产交换机芯片为其主要业务的衍生公司——Abrizio。1997年，Mckeown 从斯坦福的工作中抽出了一些时间，并在风险投资的支持下成立了这家公司。两年后，这家公司被 [PMC-Sierra](https://en.wikipedia.org/wiki/PMC-Sierra) 收购。

回想起这段峥嵘岁月，正如 McKeown 所说，他在正确的时间、正确的地点，做了最正确的事。McKeown 亲眼看到了 Mosaic 浏览器，这对他很关键，“在九十年代末，虽然我无法预测将要发生什么，但我意识到这将会是一场巨大的变革。为了让交换机和路由器的速度更快，我把接下来十年的时间，花在了研究算法、技术、体系结构、设计和芯片制造上。” Mckeown 说到。

## Chapter4 更便宜的芯片

对制造昂贵的静态随机访问存储器(SRAM)芯片的制造商来说，动态 RAM(DRAM) 是一个令人惊喜的发现。在个人电脑中使用的 DRAM 是一种廉价且高容量的设备，它的物理规模非常适合制造便宜的芯片。不过在另一方面，DRAM 是有局限性的，它限制了交换机和路由器处理数据报的速度。

“当网速变快，你就需要使用更快的存储器来缓存这些数据报”，Mckeown 说道。现在的情况是网络的速度提升了，但接收数据报的速度已经超过存储器芯片的处理速度。所以虽然在每个位的存储方面，SRAM 芯片比 DRAM 贵75倍，但路由器制造商依然对更快的 SRAM 技术有着迫切的需求。“网络行业每年在使用 SRAM 上的花费达到五亿美元，而且我们认为这些 SRAM 存储器容量太小了，太贵，又很耗电。”

McKeown 用他的算法给出了提示：“我们用一个很聪明的算法和一页纸的证明过程计算出一个解决方法。DRAM用该简短的算法，替代 SRAM。且难以发现改进后的 DRAM 与 SRAM 间的差别。”

和之前的 Abrizio 一样，McKeown 又建立了另一项业务用于将大学研究出来的技术转移至商业领域。这个想法除了算法还有其他内容：需要设计能运行这种算法的芯片。2003年，McKeown 和他的学生们一起建立了另一家芯片研究公司 - Nemo Systems，这一次他们的方向是为网络系统研发新的 DRAM 芯片。历史再一次上演，McKeown羽翼未丰的公司又在两年内被转手了，而这次接盘的是思科。

McKeown 为早期工作的成果都申请了专利，因此给斯坦福大学和加州大学伯克利分校带来了百万美元的收入。然而，他在1999年取消了所有的专利。“我不再拥有任何专利了，我把一切都献给了公共领域：所有的软件、所有的思想、所有的算法。”

这也反映了 McKeown 对大学里的学术研究应扮演何种的角色的看法。“我坚信，作为工程领域的科研工作者，我们的研究工作不仅仅服务于产业界，也要造福整个工程学术社区。” 也就是说，学术界不应该太靠近工业界，否则会让学术界的思想提前停滞。这一说法获得了工业界的如潮好评。

“我与我的博士学生们做了一个约定”，McKeown 解释说，“当我们在一个新的研究方向上工作了六个月，我们就会告诉网络产业界的同行们我们在做些什么。如果他们对我们所做的内容感兴趣，那么我们就立即取消这个项目！我们会把这个项目提供给我们的同行，让他们亲自去尝试。毕竟，他们拥有更多的途径与资源。”

McKeown 恰恰相反，他所喜欢的往往是那些有悖常理且挑战传统思维的项目。“倘若业界同行们对我们的工作感到困惑，那么我们也许正行进在某条正确的道路之上 - 或者我们已经疯了！其实，最好的想法会触及到现有问题的痛处，或者会让我们的同事感到厌烦、让他们亮起红灯拒绝。根据我的经验，这种想法是最有可能改变游戏规则的。”

如果业界花很长的时间思考一个想法，并承诺会考虑它，McKeown 的团队或许会继续深入。但“如果他们讨厌这个想法，甚至给它亮红灯，那我反而认为这会是个好想法。”，研究者们将这些非议都抛诸脑后，“这意味着它改变了业界思考问题的方式。” 他强调说虽然这一点很明显不适用于所有的工程领域，但十分适用于今天的网络领域。

## Chapter 5 重新起航

2005年前后，McKeown 经历了他称为“中年危机”的一段时期。“网络业界使我变得很沮丧。我在交换机和路由器的设计领域具有一定的影响力，但我没办法对互联网的架构产生哪怕一丁点儿的影响。在这方面，我们的研究毫无头绪。我们能出版所有我们想要的论文，但网络业界充耳不闻。为了保证他们的巨额利润，业界一直阻碍新思想的萌芽，他们本身就给新思想的注入制造了一道强大的障碍。”

McKeown 带着他的疑惑，面见了斯坦福工程学院的院长，并且有了辞职的打算。“当我正要离开的时候，他（院长）说，‘你现在也已经四十岁以上了。当你还是三十几岁的时候，你可以抱怨那群老人，说这一切都是这群老人的错，是他们阻碍了事情的进展。一旦你到了不惑之年，那么你自己就是你口中的老人了。弥补这个不足就是你的工作了。’” McKeown 称这是“我收到过的最好的一条建议”。于是他没有坚持这次带有威胁性质的辞职，但他度过了很沮丧的那几个月。在那之后，McKeown 将自己“扔到了一个傲慢自大的研究项目里”—— Clean Slate。他的斯坦福团队将探索“我们现在拥有近二三十年网络领域方面的经验，倘若现在要从一无所有重头开始，那么我们将会设计一个什么样的网络？”

Clean Slate 的一项成果就是阐明了软件定义网络（Software-Defined
Networking，SDN）的概念。SDN 起源于 [Martin Casado](https://en.wikipedia.org/wiki/Martin_Casado) 在博士阶段的工作。Martin 是一名博士，他工作在与McKeown教授十分密切的小组内。组内还有另一位来自伯克利的教授 — [Scott Shenker](https://en.wikipedia.org/wiki/Scott_Shenker)。有了 SDN 的概念，运营商不必依靠于定制的硬件芯片和特定于硬件的软件所组成的系统。相反，网络工程师可以搭建更加便宜、更加容易管理、同时还能提供更复杂的功能的网络。运营商可以决定用户得到的服务是什么，而不必取决于硬件制造商（box-makers）。

McKeown 的小组把 SDN 当做是“开启互联网基础架构创新”的一种方式。SDN 致力于商业化芯片的网络，并将软件从设备中分离出，如同计算机产业所做的那样。McKeown 形容 SDN 是“25年内对传统网络最巨大的改变”，他认为“SDN 真正的核心内容就是层次分离，将原本垂直集成的模型分离开来。”

“网络产业当然对此深恶痛绝。”毕竟，McKeown 不仅仅只在谈论技术。“这不只是一个简单的技术问题，这是一个商业问题。整个业界在这个垂直集成的模型中整合了，并妨碍了那些经营网络的所有者们前进的脚步。”

虽然网络供应商可能不喜欢这个新想法，但是 SDN 在其他领域取得了不错的进展。2007年， McKeown，Schenker 和 Casado 共同组建了 Nicira 公司，主要业务是研发供其他公司使用的、支持网络虚拟化的 SDN 软件。

在此时，谷歌、亚马逊、Facebook 和其他的一些公司都开始着手清理旧时代的规则。这些企业认为 McKeown 彻底改变了他们对于搭建计算机基础设施、存储设备和网络的看法。这一切都助长了业界对于 SDN 这样的技术的渴求。“这抓住了人们的想象力。SDN 逆转了这个行业的怪象。”尽管 Nicira 软件的部分在早期是与谷歌联合研发的，但它也为那些想从 SDN 中分一杯羹的小型公司带来了福音，这些小型公司和其他大型公司，如谷歌、亚马逊相比往往没有足够的开发工程师。

在2012年，VMware 以12.6亿美金的价格收购了 Nicira，由 Nicira 开发的 SDN 软件成为了 VMware 业务中快速增长且盈利的一部分。一份由 SDxCentral 发布的行业报告估计：到2018年，关于 SDN 的产业价值约为350亿美元。SDN 在硅谷催生了许多初创企业。也许这对 McKeown 的非正式当地高科技经济状况指示器 — Route 101（101路由）的流量负有一定责任。“在这个迅速发展的时期中，网络路由变得十分忙碌。”

## Chapter 6 制造新的芯片

McKeown 紧跟潮流。他在斯坦福工作，或在土耳其给青少年上课，或是支持他的另一个信念：推动加州及美国废除死刑，另外的时间他就在Barefoot Networks工作。他开始了第四次创业——以“隐形模式”在2013年开始运营。还没有关于具体这个公司要做什么的信息，但 McKeown 说到“制造新的芯片，并以全新的方式去对交换机和路由器进行编程，使用一种全新的语言——P4。”当被问到为什么要开始新一次的创业，McKeown 回答道：“为了让网络从头到尾都是可编程的。制造新的芯片，需要五千万到一亿美元的资金，这已经远远超过了大学内研究能够到的范围。你不得不以商业模式来做这件事。这个新想法就是对以前的想法的转移。”

这带领我们回到了 McKeown 的处世哲学：“我寻找了提供想法的一个平衡点，我一直是免费提供的，并认为它是一个技术转移的过程。如果我的学生和我想加入它，我们可以这样做，不是把它作为一个赚钱的方式，而是帮助整个行业进步。”

SDN 是另一个技术革命。“不管是从技术角度、还是商业、投资角度上来看，在基础设施上都有很多令人感兴趣和令人兴奋的改动。我告诉我的学生们，网络又变得很性感了。”对于一个在大约十年以前就认为网络十分无聊，发展停滞不前，且几乎已经要放弃了这个行业的人来说，这是一项很了不起的成就。

### 译者信息：

陈翔，福州大学2015级计算机实验班本科生；赵畅，福州大学2016级计算机实验班本科生。
